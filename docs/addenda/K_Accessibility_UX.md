# Appendix K: アクセシビリティ & UX（Day8 移植版）

Day8 の CLI 出力・レポート・ドキュメントで必ず守るアクセシビリティ指針を集約し、Day8 内部のレビューサイクルでの参照起点とする。色覚多様性・スクリーンリーダー運用を前提に、観測やレビュー工程で参照すべき補助資料を集約する。

## 0. ハブ & 参照順
- **一次ハブ**: [workflow-cookbook/GUARDRAILS.md](../workflow-cookbook/GUARDRAILS.md)（全体 UX / アクセシビリティ要件）、[workflow-cookbook/EVALUATION.md](../workflow-cookbook/EVALUATION.md)（UX 評価ゲート）。
- **Day8 連携**: [docs/day8/quality/06_quality.md](../day8/quality/06_quality.md)（品質レビュー手順）、[docs/addenda/I_Test_Cases.md](I_Test_Cases.md)（観点チェックリスト）。
- **更新起点**: 本付録を Day8 の正本とし、改訂時は Guardrails → 品質ガイド → テスト付録 → Birdseye index.json / caps の順で差分を伝播させる。
- **語彙ルール**: 用語は [docs/addenda/A_Glossary.md](A_Glossary.md) を基準とし、Day8 固有の名称・略語は初出時に括弧で補足する。

## 1. CLI 出力フォーマット
- **構造化**: セクション見出しは `==>` や全角【】ではなく `###` 相当のテキスト見出しを利用し、スクリーンリーダーが順序を把握しやすいようハイフンや番号で階層を示す。
- **配色**: ANSI カラーは必須情報に依存させない。成功=緑、警告=黄、失敗=赤に限定し、同時に `[OK]` / `[WARN]` / `[FAIL]` のテキストラベルを前置する。モノクロ端末では `--no-color` で完全に色を無効化できることをテストする。
- **テーブル**: CLI 表示は等幅レイアウト（`tabulate` など）を避け、CSV 形式やパイプ区切り表を提供する。ヘッダーとデータ行は 1 行空け、スクリーンリーダーが誤読しないよう列幅を揃えすぎない。
- **音声出力**: 重要度の高い CLI コマンドには `--speak`（TTS 連携）などのオプション追加を検討する場合、本付録を改訂し再生速度・言語指定の要件を追記する。

## 2. レポート & ダッシュボード
- **配色設計**: カラーコントラスト比 WCAG AA (4.5:1) を満たす配色サンプルを Guardrails に揃える。色のみで状態を伝えない（例: 「失敗テスト数: 3 (▲2)」のように記号とテキストを併用）。
- **フォーマット**: 日次レポートは PDF / HTML / Markdown の 3 種出力を保持し、PDF にはタグ付き構造（Heading / Table / Figure）を付与する。HTML では `<main>` `<nav>` `<footer>` を明示し、キーボード操作でフォーカス移動が完結することを QA で検証する。
- **図表代替**: グラフ画像には alt テキストと、同一内容のテーブル（CSV or Markdown）を添付する。画像内テキストは 14pt 以上を維持し、背景透過は避ける。
- **通知チャンネル**: Slack / メール通知ではテキストベースの概要を先頭に置き、リンク先に詳細レポートをまとめる。リアクションのみで承認しない。

## 3. ドキュメント整備
- **構造**: H1 から順序立てて見出しを配置し、スキップ見出し禁止。500 文字以上の節には箇条書きか小見出しを追加し、読み上げが息継ぎできる長さに抑える。
- **用語**: 略語や専門用語は初回登場時に括弧書きで説明し、Day8 固有または移行元由来の名称も同様に記す。
- **テーブル**: `<table>` を使う際は `<caption>` と `scope` 属性を設定する。Markdown テーブルは左寄せ（`:--`）を基本とし、数値カラムのみ右寄せを許可する。
- **リンク**: 「こちら」「ここ」ではなく参照先の内容を明示するリンクテキストを使い、連続するリンクは読点で区切る。

## 4. スクリーンリーダー & 入力支援
- **ARIA**: 追加で JavaScript を導入する際は `aria-live="polite"` や `aria-describedby` を付与し、DOM 更新時に読み上げが途切れないことを確認する。
- **キーボード操作**: すべての操作は `Tab` / `Shift+Tab` / `Enter` / `Space` で完結させ、ホバー限定アクションは禁止。フォーカスリングは CSS で隠さない。
- **ショートカット**: CLI / Web でショートカットを提供する場合、競合を避けるために `?` キーでヘルプを開けるよう統一し、ラベル付き一覧を表示する。
- **多言語**: 読み上げ対象の言語コードを `lang` 属性で明示する。日本語と英語が混在する節では、文ごとに切り替える。

## 5. 運用と差分反映
- 仕様変更が発生したら本付録を更新し、品質ガイド（06_quality.md）とテスト付録（I_Test_Cases.md）へ参照リンクを追加する。
- Birdseye index → caps を同一コミットで更新し、`generated_at` を本付録と揃える。
- CI / QA ハンドオフ時は本付録と Guardrails の該当節を同時に読み合わせ、レビューコメントの抜け漏れを防ぐ。
